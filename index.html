<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3x + 1</title>
    <link rel="stylesheet" href="3x+1.css">

</head>
<body>
<h2>The Collatz Conjecture</h2>
<h4>or 3x + 1</h4>
<p> Hello everyone, in this website I will be showing you the wonderful problem of 3x + 1. Basically, this is a mathematical algorithm that says,
    if you have an even number, you <strong>divide it by 2</strong>. If you get an odd number, you <strong>times it by 3 and add 1</strong>. The
    numbers will always eventually get to 1, however, there is no proof for this. Mathematicians have been trying to give a proof for this for
    hundreds of years, and people such as Euler and Neumann worked on it. Please watch the video, it explains this conjecture in a very interesting
    manner.
</p>


<style> 
    #btn_2 {
        display: none;
    }
</style>
<button class="btn" onclick="main()"><strong>Click this to check a number</strong></button>
<br><br>
<button class="btn_2" id="btn_2" onclick="getting_to_1()"><strong>Click here if you want to see how your number got to 1</strong></button>
<!-- THE DIVS!!!!!!!!!!!!   -->
<br>
<div class="div" id ="gettingThere"></div>
<div id="output"></div>




<script>
let ifVisible = 0
let listOfNumbers = [];
function main() {
    listOfNumbers = [];
    let steps = 0;
//Reference to the Div to show the output
    const outputDiv = document.getElementById('output');

    const number = parseInt(prompt("What number do you want to check?"), 10);
    if (isNaN(number) || number <= 0) {
        alert("Please enter a valid positive integer.");
        return;
    }
    let i = number;
    listOfNumbers.push(i)
//The actual thing. The algorithm of 3x + 1
    while (i > 1) {
        if (i % 2 === 0) {
            i = i / 2;
        } else {
            i = 3 * i + 1;
        }
        listOfNumbers.push(i);
        steps += 1;
    }

    outputDiv.innerHTML = `
            <p><strong>Starting Number:</strong> ${number}</p>
            <p><strong>Number of Steps:</strong> ${steps}</p>
            <p><strong>Ratio of Number to Steps:</strong> ${number / steps} : 1</p>
        `;


const btn_2 = document.getElementById('btn_2');
btn_2.style.display = 'inline-block';


}
//second button
function getting_to_1() {
    ifVisible += 1;
    const second_div = document.getElementById('gettingThere');
    second_div.innerHTML = `
        <p><strong>${listOfNumbers.join(', ')}</strong></p>
    `;
    //check if pressed twice or not
    if (ifVisible % 2 === 0){
        gettingThere.style.display = 'none';
    }else{
        gettingThere.style.display = 'inline-block';
    }
    console.log(ifVisible);

}
</script>

<p>If you want to dive deeper into the topic, here is a video by one of my favourite Youtubers about how the Collatz Conjecture works.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/094y1Z2wpJg?si=hBxorYIi5IdVNs8y" 
title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; 
picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

</body>
</html>
